
#### [React Native Tutorial – Building Your First iOS App With JavaScript (Part 1)](https://www.smashingmagazine.com/2016/04/the-beauty-of-react-native-building-your-first-ios-app-with-javascript-part-1/)

#### new 

`$ react-native init AwesomeProject`

```shell
To run your app on iOS:
   cd /path/to/project
   react-native run-ios
   - or -
   Open ios/project.xcodeproj in Xcode
   Hit the Run button
To run your app on Android:
   cd /path/to/project
   Have an Android emulator running (quickest way to get started), or a device connected
   react-native run-android
```

#### run ios

`$ react-native run-ios`

#### iOS Xcode fix sign issues

Open ios project in folder ./ios.

TARGETS > General > Identity > Bundle Identifier

TARGETS > General > Signing > Team

#### run

`$ react-native run-ios` or click run button in Xcode

`$ react-native run-android`

#### Specify Simulator

Add `--simulator="xxx"`:

`$ react-native run-ios --simulator="iPhone 8 Plus"`

#### shortcuts

ios: Press Cmd+R to reload, Cmd+D or shake for dev menu

android: Double tap R on your keyboard to reload, Shake or press menu button for dev menu

#### upgrade

You should consider using the new upgrade tool based on Git. It makes upgrades easier by resolving most conflicts automatically.
To use it:
- Go back to the old version of React Native
- Run "npm install -g react-native-git-upgrade"
- Run "react-native-git-upgrade"
See https://facebook.github.io/react-native/docs/upgrading.html

#### Error: EACCES: permission denied ...

`$ sudo ...`

#### Error 0

```shell
* What went wrong:
A problem occurred configuring project ':app'.
> SDK location not found. Define location with sdk.dir in the local.properties file or with an ANDROID_HOME environment variable.
```

Add a file named `local.properties` to `project/android/` folder and add following content:
```
## This file is automatically generated by Android Studio.
# Do not modify this file -- YOUR CHANGES WILL BE ERASED!
#
# This file must *NOT* be checked into Version Control Systems,
# as it contains information specific to your local configuration.
#
# Location of the SDK. This is only used by Gradle.
# For customization when using a Version Control System, please read the
# header note.
#Fri Sep 22 16:39:17 PDT 2017
# ndk.dir=/Users/gabriel_peal/sdk/ndk-bundle
sdk.dir=/Users/tom/Library/Android/sdk
```

#### Error 1

`project/gradle.properties`
```
android.useDeprecatedNdk=true
```

#### Error 2

```shell
> Configure project :app
WARNING: The specified Android SDK Build Tools version (28.0.2) is ignored, as it is below the minimum supported version (28.0.3) for Android Gradle Plugin 3.2.1.
Android SDK Build Tools 28.0.3 will be used.
To suppress this warning, remove "buildToolsVersion '28.0.2'" from your build.gradle file, as each version of the Android Gradle Plugin now has a default version of the build tools.
Checking the license for package Android SDK Platform 28 in /Users/tom/Library/Android/sdk/licenses
Warning: License for package Android SDK Platform 28 not accepted.

FAILURE: Build failed with an exception.

* What went wrong:
A problem occurred configuring project ':app'.
> Failed to install the following Android SDK packages as some licences have not been accepted.
     platforms;android-28 Android SDK Platform 28
  To build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.
  Alternatively, to transfer the license agreements from one workstation to another, see http://d.android.com/r/studio-ui/export-licenses.html
  
  Using Android SDK: /Users/tom/Library/Android/sdk
```

Use Android Studio open `project/android` to install missing things. And solve `Android SDK Build Tools version (28.0.2)` problem.

#### [No bundle url present #12754](https://github.com/facebook/react-native/issues/12754)

```
yustada commented on Mar 9, 2017
My problem has been solved by adding NSAllowsLocalNetworking to Info.plist

<key>NSAppTransportSecurity</key>
	<dict>
		<key>NSAllowsArbitraryLoads</key>
		<true/>
		<key>NSAllowsArbitraryLoadsInWebContent</key>
		<true/>
		<key>NSAllowsLocalNetworking</key>
		<true/>
	</dict>
</key>
I am not sure it is because of RN0.42 or iOS issue, but it is solved in my case.
```

#### [RCTBridge required dispatch_sync to load RCTDevLoadingView. This may lead to deadlocks #16376](https://github.com/facebook/react-native/issues/16376)

I was able to workaround the warning by updating `AppDelegate.m`

```
#if RCT_DEV
#import <React/RCTDevLoadingView.h>
#endif
...
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  ...
  RCTBridge *bridge = [[RCTBridge alloc] initWithBundleURL:jsCodeLocation
                                            moduleProvider:nil
                                             launchOptions:launchOptions];
#if RCT_DEV
  [bridge moduleForClass:[RCTDevLoadingView class]];
#endif
  RCTRootView *rootView = [[RCTRootView alloc] initWithBridge:bridge
                                                   moduleName:@"Test"
                                            initialProperties:nil];
  ...
}
```

# React Navigation

#### navigate to other page:

```
this.props.navigation.navigate('ToPage')
//or with params
this.props.navigation.navigate('ToPage', {
    title:'anything'
})

//get the param inside of ToPage's render()
const { params } = this.props.navigation.state;

<Text>title:{JSON.stringify(params.title)}</Text>
```

#### Back to previous page:

```
this.props.navigation.goBack()
```

#### Some library need link after installed
For example:
After run `$ npm i --save react-native-ble-manager`, you need link by command `$ react-native link`

#### About Native Module

You need rebuild project to use your module.

`NSNumber` parameter need specify `nonnull`

#### `SectionList`item过多会导致动画卡顿


#### Do not `console.log` in `componentWillMount`

In my test, I modal a page, in the page's `componentWillMount`, I `console.log` something, when modal the page, there will be a long stop.


# react-native-camera

add `<uses-permission android:name="android.permission.CAMERA" />` to `project/android/app/src/main/AndroidManifest.xml`